<mvc:View
    controllerName="empreg.controller.AllEmployees"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:form="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
>
    <Page
        class="sapUiContentPadding customFont"
        showNavButton="true"
        navButtonPress="onNavBack"
    >
        <headerContent>
            <Button icon="sap-icon://action" />
        </headerContent>

        <customHeader>
            <Bar>
                <contentLeft>
                    <Button
                        icon="sap-icon://nav-back"
                        press="onNavBack"
                    />
                </contentLeft>

                <contentMiddle>
                    <SearchField
                        id="advancedSearch"
                        width="50%"
                        liveChange="onAdvancedSearch"
                        placeholder="Search"
                    />
                </contentMiddle>

                <contentRight>
                    <Button
                        icon="sap-icon://action"
                        press="onLogout"
                    />
                </contentRight>
            </Bar>
        </customHeader>
        <content>
            <Title
                text="All Employees"
                class="customTitle"
            />

            <OverflowToolbar
                id="otb1"
                class="customOverflowToolbar"
            >
                <SearchField
                    id="advancedSearchField"
                    width="auto"
                    liveChange="onAdvancedSearch"
                    placeholder="Search"
                />
                <MultiComboBox
                    selectionChange="handleSelectionChange"
                    selectionFinish="handleSelectionFinish"
                    showClearIcon="{MainModel>showClearIcon}"
                    width="350px"
                    items="{
                    path: 'MainModel>/Employees',
                    sorter: { path: 'skills' }
                   }"
                >
                    <core:Item
                        key="{MainModel>ID}"
                        text="{MainModel>skills}"
                    />
                </MultiComboBox>

                <ToolbarSpacer />
                <Button
                    id="createButton"
                    icon="sap-icon://add"
                    text="New Employee"
                    visible="true"
                    press="onaddnewemployee"
                    class="sapUiTinyMarginBeginEnd customButtonHeight"
                    type="Emphasized"
                />
            </OverflowToolbar>
            <List
                id="employeelist"
                items="{
        path: 'MainModel>/Employees'
    }"
                class="customFont"
            >
                <items>
                    <CustomListItem
                        class="customItemSpacing"
                        press="onListItemPress"
                        type="Navigation"
                    >
                        <HBox
                            alignItems="Center"
                            justifyContent="SpaceBetween"
                        >
                            <HBox>
                                <Image
                                    src="{
        parts: [
            { path: 'MainModel>ID' },
            { path: 'MainModel>gender' }
        ],
        formatter: '.formatPhoto'
    }"
                                    densityAware="false"
                                    inset="false"
                                    class="customIconSize"
                                />
                                <VBox>
                                    <Title
                                        text="{MainModel>fname} {MainModel>lname}"
                                        class="custom-title"
                                    />
                                    <HBox alignItems="Center">
                                        <Text
                                            text="Position :"
                                            class="custom-label"
                                        />
                                        <Text
                                            text="{MainModel>desig}"
                                            class="custom-designation"
                                        />
                                    </HBox>

                                    <HBox alignItems="Center">
                                        <Text
                                            text="Date Of Joining : "
                                            class="custom-label"
                                        />
                                        <Text
                                            text="{MainModel>doj}"
                                            class="custom-designation"
                                        />
                                    </HBox>
                                </VBox>
                            </HBox>
                            <VBox>
                                <HBox alignItems="Center">
                                    <Text
                                        text="Phone no :"
                                        class="custom-label"
                                    />
                                    <Text
                                        text="{MainModel>Phno}"
                                        class="custom-designation"
                                    />
                                </HBox>

                                <HBox alignItems="Center">
                                    <Text
                                        text="Email : "
                                        class="custom-label"
                                    />
                                    <Text
                                        text="{MainModel>doj}"
                                        class="custom-designation"
                                    />
                                </HBox>
                            </VBox>
                            <VBox alignItems="End">
                                <ObjectStatus
                                    text="{= ${MainModel>leave} === 'Yes' ? 'On Leave' : 'Working'}"
                                    state="{= ${MainModel>leave} === 'Yes' ? 'Warning' : 'Success'}"
                                />
                            </VBox>
                        </HBox>
                    </CustomListItem>
                </items>
            </List>
        </content>
    </Page>
</mvc:View>
